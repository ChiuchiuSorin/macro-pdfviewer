<?xml version="1.0" encoding="UTF-8"?>

<xwikidoc>
  <web>XWiki</web>
  <name>PDFViewerMacro</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <parent>XWiki.WebHome</parent>
  <creator>xwiki:XWiki.Admin</creator>
  <author>xwiki:XWiki.Admin</author>
  <customClass/>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <creationDate>1348762397000</creationDate>
  <date>1355405608000</date>
  <contentUpdateDate>1355405608000</contentUpdateDate>
  <version>1.1</version>
  <title>PDF Viewer Macro</title>
  <template/>
  <defaultTemplate/>
  <validationScript/>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.1</syntaxId>
  <hidden>true</hidden>
  <attachment>
    <filename>pdftest.pdf</filename>
    <filesize>6528</filesize>
    <author>XWiki.Admin</author>
    <date>1355405594000</date>
    <version>1.1</version>
    <comment/>
    <content>JVBERi0xLjMNJeLjz9MNCjkgMCBvYmoNPDwvTGluZWFyaXplZCAxL0wgNjUyOC9PIDExL0UgMTgy
MC9OIDEvVCA2MjM3L0ggWyA0NDQgMTMyXT4+DWVuZG9iag0gICAgICAgICAgICAgICAgICAgICAg
IA0xNCAwIG9iag08PC9EZWNvZGVQYXJtczw8L0NvbHVtbnMgNC9QcmVkaWN0b3IgMTI+Pi9GaWx0
ZXIvRmxhdGVEZWNvZGUvSURbPDQ3MTQ5NTEwNDMzREQ0ODgyRjA1RjhDMTI0MjIzNzM0PjxGRjZG
RkMyN0VFOEY0MjNFQjJFMkVDOUM5Q0JBMzFBMT5dL0luZGV4WzkgMTFdL0luZm8gOCAwIFIvTGVu
Z3RoIDQ4L1ByZXYgNjIzOC9Sb290IDEwIDAgUi9TaXplIDIwL1R5cGUvWFJlZi9XWzEgMiAxXT4+
c3RyZWFtDQpo3mJiZBBgYGJgMgASDAlAgnEViLAGEn/eMzAxMswESTAwIhH/Gdf/BQgwAIfoBtUN
ZW5kc3RyZWFtDWVuZG9iag1zdGFydHhyZWYNMA0lJUVPRg0gICAgICAgICANMTkgMCBvYmoNPDwv
RmlsdGVyL0ZsYXRlRGVjb2RlL0kgNjcvTGVuZ3RoIDU0L1MgMzg+PnN0cmVhbQ0KaN5iYGBgZmBg
kmEAApYaBlTACBJk4GhQQBJjhmIGhlUMnAwqtQuggrIHIRoY+QACDAB94wQ6DWVuZHN0cmVhbQ1l
bmRvYmoNMTAgMCBvYmoNPDwvRGVmYXVsdEdyYXkgNiAwIFIvRGVmYXVsdFJHQiA3IDAgUi9NZXRh
ZGF0YSAxIDAgUi9QYWdlcyA1IDAgUi9UeXBlL0NhdGFsb2c+Pg1lbmRvYmoNMTEgMCBvYmoNPDwv
Q29udGVudHMgMTIgMCBSL0Nyb3BCb3hbMCAwIDYxMiA3OTJdL01lZGlhQm94WzAgMCA2MTIgNzky
XS9QYXJlbnQgNSAwIFIvUmVzb3VyY2VzPDwvRm9udDw8L0YwIDE1IDAgUi9GMSAxNyAwIFI+Pi9Q
cm9jU2V0IDE4IDAgUj4+L1JvdGF0ZSAwL1R5cGUvUGFnZT4+DWVuZG9iag0xMiAwIG9iag08PC9G
aWx0ZXIvRmxhdGVEZWNvZGUvTGVuZ3RoIDI0Nj4+c3RyZWFtDQpIic2Q0UrDMBSGnyDv8Hunsmbn
JE2T7W7SFgYtFI2CkBsRWyZqZYri29ukDPF+giQXycn/fcnJhResSWoFq6zMc8CXghDHfoBY1gQt
XSz3giRZG5f30yn8J06rdQitMSGchMBWGdk/n8E/Cp5iMVJiYpzSiclIslu5mVREOiOeJtit2cxY
rqb4D2nnuyRxbmasg78bhgW2XbvA9cvu42H/tnv/wtijiZvXcXxKqkxzEV2ZUdIUSbisGWruhCWv
jDnY6WDf4Ka6vMVVu2kadGWNetskm5LaFr8aT2VCxsSS0q/huFLl/kB63Jf68/9nqrz4Bjz1oaoN
ZW5kc3RyZWFtDWVuZG9iag0xMyAwIG9iag08PC9GaWx0ZXIvRmxhdGVEZWNvZGUvRmlyc3QgMjYv
TGVuZ3RoIDU2OS9OIDQvVHlwZS9PYmpTdG0+PnN0cmVhbQ0KaN6MUttu00AQ/ZX5AKq9eHdtS1Uk
pyUqUosQRBQpyoNJrMQitYPtoPD37Bl7nWAo4uF41nM9c1GWJClHcUoqpkh6kZCKnKbbWzHP22JR
V53ImjI/iLfVpt6W1U48l1VWteX4/z5/KcRCik+nr93PYyGWzalY8gMfZJjNfLqs3RRVR2kkRfZj
91xuuz0ZJ8Vdfnwoyt2+N90XvZv2lsUh37WenlEJp5nP6/PqRltJN95MSkcOMWs2Mot5XX/Lqq78
fsrfzOvDVrzr8kO5yardoSApHoscjEkrKZ7yc89BSV/2qWxbb+k1sfXNdMXLAynj+PWZX2M/INmU
x65uxJeBu7OKuxyH9geVV+e3KJu2u9vnDUVqkh67kfRRPOaDh7Z2mLf6x7wF99GufCOEcek4ISM1
OenISklJklISRaS1X7qXgDGG7fDHP8elvf//QA+1kCMAOWMTU+zrO+el1lzXKUXWOn4DkecDsJ+3
KQmSgxEKSATjzYm8I8COUASAOSoHCWZ4QyKYu0R16H1FsMB/mEJ4Y0KBJReF3usQH0064AnYoZbq
JxAkNgB9bC88ACYefmDoOxmq8A9CroElAiEqtMfOSJGmSc9v2G4IxFzCFUyDr2eETZkoGfVBh3+D
OOO35FQP9BL72Rg1Xgz0JkkuF5b2kq9gWNgUfadhs1cIJxEQruFvAFlueJKcj2LI99rZwg8Ep/pw
EAHhEHjRU5j0t0MZa15i1rPZSny4X4hlce7WvwQYAHu4RRsNZW5kc3RyZWFtDWVuZG9iag0xIDAg
b2JqDTw8L0xlbmd0aCAzODA3L1N1YnR5cGUvWE1ML1R5cGUvTWV0YWRhdGE+PnN0cmVhbQ0KPD94
cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1w
bWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4y
LjEtYzA0MyA1Mi4zNzI3MjgsIDIwMDkvMDEvMTgtMTU6NTY6MzcgICAgICAgICI+CiAgIDxyZGY6
UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5z
IyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5z
OmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+CiAgICAgICAgIDxkYzpmb3Jt
YXQ+YXBwbGljYXRpb24vcGRmPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxkYzpjcmVhdG9yPgogICAg
ICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaT5Vbmtub3duPC9yZGY6bGk+
CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC9kYzpjcmVhdG9yPgogICAgICAgICA8
ZGM6ZGVzY3JpcHRpb24+CiAgICAgICAgICAgIDxyZGY6QWx0PgogICAgICAgICAgICAgICA8cmRm
OmxpIHhtbDpsYW5nPSJ4LWRlZmF1bHQiLz4KICAgICAgICAgICAgPC9yZGY6QWx0PgogICAgICAg
ICA8L2RjOmRlc2NyaXB0aW9uPgogICAgICAgICA8ZGM6dGl0bGU+CiAgICAgICAgICAgIDxyZGY6
QWx0PgogICAgICAgICAgICAgICA8cmRmOmxpIHhtbDpsYW5nPSJ4LWRlZmF1bHQiPjE3MjUuUERG
PC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOkFsdD4KICAgICAgICAgPC9kYzp0aXRsZT4KICAg
ICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIi
CiAgICAgICAgICAgIHhtbG5zOnBkZj0iaHR0cDovL25zLmFkb2JlLmNvbS9wZGYvMS4zLyI+CiAg
ICAgICAgIDxwZGY6Q3JlYXRpb25EYXRlLS1UZXh0PjEtSmFuLTMgMTg6MTVQTTwvcGRmOkNyZWF0
aW9uRGF0ZS0tVGV4dD4KICAgICAgICAgPHBkZjpLZXl3b3Jkcy8+CiAgICAgICAgIDxwZGY6UHJv
ZHVjZXI+QWNyb2JhdCBQREZXcml0ZXIgMy4wMiBmb3IgV2luZG93czwvcGRmOlByb2R1Y2VyPgog
ICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9
IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4K
ICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD4xNzI1LmZtPC94bXA6Q3JlYXRvclRvb2w+CiAgICAg
ICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDExLTA1LTEzVDIyOjI3OjQwLTAzOjAwPC94bXA6TW9kaWZ5
RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxMS0wNS0xM1QyMjoyNzo0MC0wMzow
MDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgICAgIDxyZGY6
RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8v
bnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIj4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+dXVp
ZDpmNTlhZDFmNS1jZTUyLTVmNGQtOGNlZi0xYjE1YjI3ODMyN2M8L3htcE1NOkRvY3VtZW50SUQ+
CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnV1aWQ6YTgzM2I4MWQtYzkwZi1mMzRmLWJhYjkt
N2UwMTU4OWIzNTQ2PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4K
ICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+DWVuZHN0cmVhbQ1lbmRv
YmoNMiAwIG9iag08PC9GaWx0ZXIvRmxhdGVEZWNvZGUvRmlyc3QgMTQvTGVuZ3RoIDE3Mi9OIDMv
VHlwZS9PYmpTdG0+PnN0cmVhbQ0KaN6EjssKwjAQRX9lvqCZaR5tQLqwiy5EKEVwEbIIWDRgW2kj
2L83qbhw5epw75kLIwFBAVdQgCbY7Vg9PccAxA7+shiiqDvLTuujZ6279ktVGVa7ezO7NR43bhgc
YJYLVbLzzYe+nfwYDGZaogQCyrDUZKvKbrOu2X9X5rOCH1h2dGH2rygFV5TaPJcRSFxH8FKmsiCV
EuoiJRI8ARWqzQmyf355CzAACCY+Jg1lbmRzdHJlYW0NZW5kb2JqDTMgMCBvYmoNPDwvRmlsdGVy
L0ZsYXRlRGVjb2RlL0ZpcnN0IDQvTGVuZ3RoIDE3OC9OIDEvVHlwZS9PYmpTdG0+PnN0cmVhbQ0K
aN50zUsLgkAUBeC/MjudxTgPE0NEkKRFIQgZrtUZyR5z4Tpi/fukVi1an3O+syWCpCnPZ3cB9M/2
ZmGxlO/QtG4EW7TO+JIdWstCIreJjKryN2WsNk/3p7OSMlZRMDwoP5rXAqgnn/IS9AcuEiWkFJEM
lVLxRjARekJ4lFcIeu4N+nmP0LWOVMW+wdEZJGEgFBkASTNaDctE+WnurqZ3q1uP7m6+j+uAZtlb
gAEAPklCpA1lbmRzdHJlYW0NZW5kb2JqDTQgMCBvYmoNPDwvRGVjb2RlUGFybXM8PC9Db2x1bW5z
IDQvUHJlZGljdG9yIDEyPj4vRmlsdGVyL0ZsYXRlRGVjb2RlL0lEWzw0NzE0OTUxMDQzM0RENDg4
MkYwNUY4QzEyNDIyMzczND48RkY2RkZDMjdFRThGNDIzRUIyRTJFQzlDOUNCQTMxQTE+XS9JbmZv
IDggMCBSL0xlbmd0aCA0Mi9Sb290IDEwIDAgUi9TaXplIDkvVHlwZS9YUmVmL1dbMSAyIDFdPj5z
dHJlYW0NCmjeYmIAAiZGdhkGJgZ+bSDByAki+IBiL5YAWQwMjDCC8R9AgAEALS0DGA1lbmRzdHJl
YW0NZW5kb2JqDXN0YXJ0eHJlZg0xMTYNJSVFT0YN
</content>
  </attachment>
  <object>
    <class>
      <name>XWiki.WikiMacroClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <code>
        <disabled>0</disabled>
        <name>code</name>
        <number>9</number>
        <prettyName>Macro code</prettyName>
        <rows>20</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <contentDescription>
        <disabled>0</disabled>
        <name>contentDescription</name>
        <number>8</number>
        <prettyName>Content description (Not applicable for "No content" type)</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </contentDescription>
      <contentType>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>contentType</name>
        <number>7</number>
        <prettyName>Macro content type</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator>|</separator>
        <separators>|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>Optional|Mandatory|No content</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </contentType>
      <defaultCategory>
        <disabled>0</disabled>
        <name>defaultCategory</name>
        <number>4</number>
        <prettyName>Default category</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultCategory>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>3</number>
        <prettyName>Macro description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <id>
        <disabled>0</disabled>
        <name>id</name>
        <number>1</number>
        <prettyName>Macro id</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </id>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>2</number>
        <prettyName>Macro name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <supportsInlineMode>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>supportsInlineMode</name>
        <number>5</number>
        <prettyName>Supports inline mode</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </supportsInlineMode>
      <visibility>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>visibility</name>
        <number>6</number>
        <prettyName>Macro visibility</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator>|</separator>
        <separators>|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>Current User|Current Wiki|Global</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </visibility>
    </class>
    <name>XWiki.PDFViewerMacro</name>
    <number>0</number>
    <className>XWiki.WikiMacroClass</className>
    <guid>c21007eb-5ebe-4048-9081-52d8739c58fb</guid>
    <property>
      <code>{{velocity}}
#set($width = $context.macro.params.width)
#set($height = $context.macro.params.height)
#set($file = $context.macro.params.file)
#if(!$file)
No pdf URL provided
#else
#if($file.startsWith("http"))
 #set($url = $file)
#else
 #set($url = $doc.getAttachmentURL($file))
#end
#set($url = $escapetool.url($url))
#set($pdfviewerurl = $xwiki.getDocument("XWiki.PDFViewerMacro").getAttachmentURL("pdfviewer.zip"))
{{html clean=false}}
  &lt;!--[if lt IE 10]&gt;
    &lt;div class="box warningmessage"&gt;PDF Viewer : Not compatible with IE &lt; 10&lt;/div&gt;
  &lt;![endif]--&gt; 
  &lt;![if !(lt IE 10)]&gt;
    &lt;iframe src="${pdfviewerurl}/pdf-viewer/root/viewer.html?file=${url}#locale=${context.language}" width="${width}" height="${height}"&amp;&gt;&lt;/iframe&gt;
  &lt;![endif]--&gt; 
  &lt;/script&gt;
{{/html}}
#end
{{/velocity}}</code>
    </property>
    <property>
      <contentDescription/>
    </property>
    <property>
      <contentType>No content</contentType>
    </property>
    <property>
      <defaultCategory>content</defaultCategory>
    </property>
    <property>
      <description>PDF Viewer based on Mozilla pdf.js</description>
    </property>
    <property>
      <id>pdfviewer</id>
    </property>
    <property>
      <name>pdfviewer</name>
    </property>
    <property>
      <supportsInlineMode>0</supportsInlineMode>
    </property>
    <property>
      <visibility>Current Wiki</visibility>
    </property>
  </object>
  <object>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <name>XWiki.PDFViewerMacro</name>
    <number>0</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>2ca63cd8-423e-49aa-bf53-84a201c41d2d</guid>
    <property>
      <defaultValue/>
    </property>
    <property>
      <description>File or URL path to the PDF file</description>
    </property>
    <property>
      <mandatory>1</mandatory>
    </property>
    <property>
      <name>file</name>
    </property>
  </object>
  <object>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <name>XWiki.PDFViewerMacro</name>
    <number>1</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>94db3764-f00a-486a-bbde-48057fff65b1</guid>
    <property>
      <defaultValue>700</defaultValue>
    </property>
    <property>
      <description/>
    </property>
    <property>
      <mandatory/>
    </property>
    <property>
      <name>width</name>
    </property>
  </object>
  <object>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <name>XWiki.PDFViewerMacro</name>
    <number>2</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>90e37db1-ed7b-4b65-82d6-4e3678a0dd58</guid>
    <property>
      <defaultValue>1000</defaultValue>
    </property>
    <property>
      <description/>
    </property>
    <property>
      <mandatory/>
    </property>
    <property>
      <name>height</name>
    </property>
  </object>
  <content>
Sample PDF Viewer

{{pdfviewer file="pdftest.pdf" /}}</content>
</xwikidoc>
